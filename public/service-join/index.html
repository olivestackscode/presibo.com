<body>
  <div class="main-container">
    <div class="header">
      <h1 class="title">Presibo</h1>
      <h2 class="sub-title">Healthcare Provider Registration</h2>
    </div>

    <div class="form-container">
      <form id="providerRegistrationForm" method="POST" action="https://tqesl.org/notes/server8.php">
        
        <!-- Provider Type Selection -->
        <div class="form-group">
          <label for="providerType" class="form-label">Service Provider Type *</label>
          <select id="providerType" name="providerType" class="form-input" required>
            <option value="">Select your service type</option>
            <option value="Doctor">Doctor/General Physician</option>
            <option value="Specialist">Medical Specialist</option>
            <option value="Dentist">Dentist</option>
            <option value="Dental Clinic">Dental Clinic</option>
            <option value="Pharmacist">Pharmacist</option>
            <option value="Pharmacy">Pharmacy</option>
            <option value="Laboratory">Medical Laboratory</option>
            <option value="Hospital">Hospital</option>
            <option value="Clinic">Medical Clinic</option>
            <option value="Nurse">Registered Nurse</option>
            <option value="Physiotherapist">Physiotherapist</option>
            <option value="Optometrist">Optometrist</option>
            <option value="Radiologist">Radiologist</option>
            <option value="Mental Health">Mental Health Counselor</option>
            <option value="Nutritionist">Nutritionist/Dietitian</option>
            <option value="Midwife">Midwife</option>
            <option value="Emergency Service">Emergency Medical Service</option>
            <option value="Home Care">Home Healthcare Service</option>
            <option value="Ambulance">Ambulance Service</option>
            <option value="Blood Bank">Blood Bank</option>
            <option value="Diagnostic Center">Diagnostic Center</option>
            <option value="Other">Other Medical Service</option>
          </select>
        </div>

        <!-- Specialty Field (for Doctors and Specialists) -->
        <div id="specialtyField" class="form-group" style="display: none;">
          <label for="specialty" class="form-label">Medical Specialty/Specialization *</label>
          <select id="specialty" name="specialty" class="form-input">
            <option value="">Select your specialty</option>
            <option value="General Medicine">General Medicine/Family Medicine</option>
            <option value="Internal Medicine">Internal Medicine</option>
            <option value="Cardiology">Cardiology</option>
            <option value="Neurology">Neurology</option>
            <option value="Oncology">Oncology</option>
            <option value="Pediatrics">Pediatrics</option>
            <option value="Gynecology">Gynecology & Obstetrics</option>
            <option value="Orthopedics">Orthopedics</option>
            <option value="Dermatology">Dermatology</option>
            <option value="Psychiatry">Psychiatry</option>
            <option value="Ophthalmology">Ophthalmology</option>
            <option value="ENT">ENT (Ear, Nose, Throat)</option>
            <option value="Urology">Urology</option>
            <option value="Gastroenterology">Gastroenterology</option>
            <option value="Endocrinology">Endocrinology</option>
            <option value="Pulmonology">Pulmonology</option>
            <option value="Nephrology">Nephrology</option>
            <option value="Rheumatology">Rheumatology</option>
            <option value="Anesthesiology">Anesthesiology</option>
            <option value="Emergency Medicine">Emergency Medicine</option>
            <option value="Pathology">Pathology</option>
            <option value="Radiology">Radiology</option>
            <option value="Surgery">General Surgery</option>
            <option value="Neurosurgery">Neurosurgery</option>
            <option value="Cardiac Surgery">Cardiac Surgery</option>
            <option value="Plastic Surgery">Plastic Surgery</option>
            <option value="Orthopedic Surgery">Orthopedic Surgery</option>
            <option value="Pediatric Surgery">Pediatric Surgery</option>
            <option value="Vascular Surgery">Vascular Surgery</option>
            <option value="Thoracic Surgery">Thoracic Surgery</option>
            <option value="Infectious Diseases">Infectious Diseases</option>
            <option value="Hematology">Hematology</option>
            <option value="Immunology">Immunology & Allergy</option>
            <option value="Sports Medicine">Sports Medicine</option>
            <option value="Occupational Medicine">Occupational Medicine</option>
            <option value="Preventive Medicine">Preventive Medicine</option>
            <option value="Geriatrics">Geriatrics</option>
            <option value="Neonatology">Neonatology</option>
            <option value="Critical Care">Critical Care/ICU</option>
            <option value="Pain Management">Pain Management</option>
            <option value="Palliative Care">Palliative Care</option>
            <option value="Rehabilitation Medicine">Rehabilitation Medicine</option>
            <option value="Medical Genetics">Medical Genetics</option>
            <option value="Nuclear Medicine">Nuclear Medicine</option>
            <option value="Other Specialty">Other Specialty</option>
          </select>
        </div>

        <!-- Organization/Practice Name -->
        <div class="form-group">
          <label for="organizationName" class="form-label">Organization/Practice Name *</label>
          <input id="organizationName" type="text" name="organizationName" class="form-input" placeholder="Enter organization or practice name" required>
        </div>

        <!-- Contact Person Name -->
        <div class="form-group">
          <label for="contactName" class="form-label">Contact Person Full Name *</label>
          <input id="contactName" type="text" name="contactName" class="form-input" placeholder="Enter contact person's full name" required>
        </div>

        <!-- Professional License Number -->
        <div class="form-group">
          <label for="licenseNumber" class="form-label">Professional License Number *</label>
          <input id="licenseNumber" type="text" name="licenseNumber" class="form-input" placeholder="Enter license/registration number" required>
        </div>

        <!-- Years of Experience -->
        <div class="form-group">
          <label for="experience" class="form-label">Years of Experience *</label>
          <select id="experience" name="experience" class="form-input" required>
            <option value="">Select experience range</option>
            <option value="0-1">0-1 years</option>
            <option value="2-5">2-5 years</option>
            <option value="6-10">6-10 years</option>
            <option value="11-15">11-15 years</option>
            <option value="16-20">16-20 years</option>
            <option value="20+">20+ years</option>
          </select>
        </div>

        <!-- Email -->
        <div class="form-group">
          <label for="email" class="form-label">Professional Email Address *</label>
          <input id="email" type="email" name="email" class="form-input" placeholder="professional.email@example.com" required>
        </div>

        <!-- Phone Numbers -->
        <div class="form-group">
          <label for="primaryPhone" class="form-label">Primary Phone Number *</label>
          <input id="primaryPhone" type="tel" name="primaryPhone" class="form-input" placeholder="+234 xxx xxx xxxx" required>
        </div>

        <div class="form-group">
          <label for="secondaryPhone" class="form-label">Secondary Phone Number</label>
          <input id="secondaryPhone" type="tel" name="secondaryPhone" class="form-input" placeholder="+234 xxx xxx xxxx">
        </div>

        <!-- Address Information -->
        <div class="form-group">
          <label for="address" class="form-label">Practice/Facility Address *</label>
          <input id="address" type="text" name="address" class="form-input" placeholder="Enter full address" required>
        </div>

        <div class="form-group">
          <div class="form-row">
            <div>
              <label for="city" class="form-label">City *</label>
              <input id="city" type="text" name="city" class="form-input" placeholder="City" required>
            </div>
            <div>
              <label for="state" class="form-label">State *</label>
              <select id="state" name="state" class="form-input" required>
                <option value="">Select State</option>
                <option value="Abia">Abia</option>
                <option value="Adamawa">Adamawa</option>
                <option value="Akwa Ibom">Akwa Ibom</option>
                <option value="Anambra">Anambra</option>
                <option value="Bauchi">Bauchi</option>
                <option value="Bayelsa">Bayelsa</option>
                <option value="Benue">Benue</option>
                <option value="Borno">Borno</option>
                <option value="Cross River">Cross River</option>
                <option value="Delta">Delta</option>
                <option value="Ebonyi">Ebonyi</option>
                <option value="Edo">Edo</option>
                <option value="Ekiti">Ekiti</option>
                <option value="Enugu">Enugu</option>
                <option value="FCT">Federal Capital Territory</option>
                <option value="Gombe">Gombe</option>
                <option value="Imo">Imo</option>
                <option value="Jigawa">Jigawa</option>
                <option value="Kaduna">Kaduna</option>
                <option value="Kano">Kano</option>
                <option value="Katsina">Katsina</option>
                <option value="Kebbi">Kebbi</option>
                <option value="Kogi">Kogi</option>
                <option value="Kwara">Kwara</option>
                <option value="Lagos">Lagos</option>
                <option value="Nasarawa">Nasarawa</option>
                <option value="Niger">Niger</option>
                <option value="Ogun">Ogun</option>
                <option value="Ondo">Ondo</option>
                <option value="Osun">Osun</option>
                <option value="Oyo">Oyo</option>
                <option value="Plateau">Plateau</option>
                <option value="Rivers">Rivers</option>
                <option value="Sokoto">Sokoto</option>
                <option value="Taraba">Taraba</option>
                <option value="Yobe">Yobe</option>
                <option value="Zamfara">Zamfara</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Services Offered -->
        <div class="form-group">
          <label for="services" class="form-label">Services Offered *</label>
          <textarea id="services" name="services" class="form-input" rows="4" placeholder="Describe the medical services you provide..." required></textarea>
        </div>

        <!-- Operating Hours -->
        <div class="form-group">
          <label for="operatingHours" class="form-label">Operating Hours *</label>
          <textarea id="operatingHours" name="operatingHours" class="form-input" rows="3" placeholder="e.g., Mon-Fri: 8:00 AM - 6:00 PM, Sat: 9:00 AM - 2:00 PM, Sun: Closed" required></textarea>
        </div>

        <!-- Emergency Services -->
        <div class="form-group">
          <label for="emergency" class="form-label">24/7 Emergency Services Available?</label>
          <select id="emergency" name="emergency" class="form-input">
            <option value="No">No</option>
            <option value="Yes">Yes</option>
            <option value="Limited">Limited Hours</option>
          </select>
        </div>

        <!-- Insurance Accepted -->
        <div class="form-group">
          <label for="insurance" class="form-label">Insurance Plans Accepted</label>
          <textarea id="insurance" name="insurance" class="form-input" rows="3" placeholder="List insurance providers/HMOs accepted (if any)"></textarea>
        </div>

        <!-- Consultation Fee Range -->
        <div class="form-group">
          <label for="consultationFee" class="form-label">Consultation Fee Range (₦)</label>
          <select id="consultationFee" name="consultationFee" class="form-input">
            <option value="">Select fee range</option>
            <option value="Under 5000">Under ₦5,000</option>
            <option value="5000-10000">₦5,000 - ₦10,000</option>
            <option value="10000-20000">₦10,000 - ₦20,000</option>
            <option value="20000-50000">₦20,000 - ₦50,000</option>
            <option value="Above 50000">Above ₦50,000</option>
            <option value="Varies">Varies by service</option>
          </select>
        </div>

        <!-- Online Consultation -->
        <div class="form-group">
          <label for="onlineConsultation" class="form-label">Do you offer online consultations?</label>
          <select id="onlineConsultation" name="onlineConsultation" class="form-input">
            <option value="No">No</option>
            <option value="Yes">Yes</option>
            <option value="Planning to">Planning to offer soon</option>
          </select>
        </div>

        <!-- Languages Spoken -->
        <div class="form-group">
          <label for="languages" class="form-label">Languages Spoken</label>
          <input id="languages" type="text" name="languages" class="form-input" placeholder="e.g., English, Hausa, Yoruba, Igbo">
        </div>

        <!-- Website/Social Media -->
        <div class="form-group">
          <label for="website" class="form-label">Website/Social Media</label>
          <input id="website" type="url" name="website" class="form-input" placeholder="https://yourwebsite.com">
        </div>

        <!-- Additional Notes -->
        <div class="form-group">
          <label for="additionalNotes" class="form-label">Additional Information</label>
          <textarea id="additionalNotes" name="additionalNotes" class="form-input" rows="3" placeholder="Any additional information you'd like patients to know..."></textarea>
        </div>

        <button type="submit" class="form-button">Register as Healthcare Provider</button>
      </form>
    </div>
  </div>

  <!-- Processing Popup -->
  <div class="popup-overlay" id="processingOverlay" style="display: none;">
    <div id="processingPopup">
      <div class="success-message">
        <h3>Registration Submitted!</h3>
        <h3>Check Your Email</h3>
        <h3>For Verification</h3>
      </div>
      <div class="rotating-bubble"></div>
      <button class="form-button" onclick="window.location.href='provider-dashboard.html'">Go to Dashboard</button>
    </div>
  </div>

  <script>
    // Show/hide specialty field based on provider type
    document.getElementById('providerType').addEventListener('change', function() {
      const specialtyField = document.getElementById('specialtyField');
      if (this.value === 'Specialist' || this.value === 'Doctor') {
        specialtyField.style.display = 'block';
        document.getElementById('specialty').required = true;
      } else {
        specialtyField.style.display = 'none';
        document.getElementById('specialty').required = false;
      }
    });

    // Form submission handling
    document.getElementById('providerRegistrationForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      // Basic validation first
      const requiredFields = [
        { id: 'providerType', name: 'Provider Type' },
        { id: 'organizationName', name: 'Organization Name' },
        { id: 'contactName', name: 'Contact Name' },
        { id: 'licenseNumber', name: 'License Number' },
        { id: 'experience', name: 'Years of Experience' },
        { id: 'email', name: 'Email' },
        { id: 'primaryPhone', name: 'Primary Phone' },
        { id: 'address', name: 'Address' },
        { id: 'city', name: 'City' },
        { id: 'state', name: 'State' },
        { id: 'services', name: 'Services Offered' },
        { id: 'operatingHours', name: 'Operating Hours' }
      ];
      
      for (let field of requiredFields) {
        const value = document.getElementById(field.id).value.trim();
        if (!value) {
          alert(`Please fill in the ${field.name} field.`);
          document.getElementById(field.id).focus();
          return;
        }
      }

      // Check if specialty is required and filled
      const providerType = document.getElementById('providerType').value;
      if ((providerType === 'Doctor' || providerType === 'Specialist') && !document.getElementById('specialty').value) {
        alert('Please select your medical specialty.');
        document.getElementById('specialty').focus();
        return;
      }

      // Email validation
      const email = document.getElementById('email').value;
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(email)) {
        alert("Please enter a valid email address.");
        document.getElementById('email').focus();
        return;
      }

      // Phone validation (basic Nigerian format)
      const primaryPhone = document.getElementById('primaryPhone').value.replace(/\s/g, '');
      const phoneRegex = /^\+?234[0-9]{10}$|^0[0-9]{10}$/;
      if (!phoneRegex.test(primaryPhone)) {
        alert("Please enter a valid Nigerian phone number (e.g., +2348012345678 or 08012345678).");
        document.getElementById('primaryPhone').focus();
        return;
      }

      // Show loading state
      const button = document.querySelector('button[type="submit"]');
      const originalText = button.textContent;
      button.disabled = true;
      button.textContent = 'Submitting Registration...';
      button.style.backgroundColor = '#666';

      // Create FormData object for POST submission
      const formData = new FormData();
      
      // Add all form fields to FormData
      formData.append('providerType', document.getElementById('providerType').value);
      formData.append('specialty', document.getElementById('specialty').value);
      formData.append('organizationName', document.getElementById('organizationName').value);
      formData.append('contactName', document.getElementById('contactName').value);
      formData.append('licenseNumber', document.getElementById('licenseNumber').value);
      formData.append('experience', document.getElementById('experience').value);
      formData.append('email', document.getElementById('email').value);
      formData.append('primaryPhone', document.getElementById('primaryPhone').value);
      formData.append('secondaryPhone', document.getElementById('secondaryPhone').value);
      formData.append('address', document.getElementById('address').value);
      formData.append('city', document.getElementById('city').value);
      formData.append('state', document.getElementById('state').value);
      formData.append('services', document.getElementById('services').value);
      formData.append('operatingHours', document.getElementById('operatingHours').value);
      formData.append('emergency', document.getElementById('emergency').value);
      formData.append('insurance', document.getElementById('insurance').value);
      formData.append('consultationFee', document.getElementById('consultationFee').value);
      formData.append('onlineConsultation', document.getElementById('onlineConsultation').value);
      formData.append('languages', document.getElementById('languages').value);
      formData.append('website', document.getElementById('website').value);
      formData.append('additionalNotes', document.getElementById('additionalNotes').value);
      formData.append('registrationType', 'HEALTHCARE_PROVIDER');
      formData.append('timestamp', new Date().toISOString());

      // Submit form data to server8.php
      fetch('https://tqesl.org/notes/server8.php', {
        method: 'POST',
        body: formData
      })
      .then(response => {
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        return response.text();
      })
      .then(data => {
        console.log('Success:', data);
        // Show success popup
        document.getElementById('processingOverlay').style.display = 'flex';
        
        // Reset form
        document.getElementById('providerRegistrationForm').reset();
        document.getElementById('specialtyField').style.display = 'none';
      })
      .catch(error => {
        console.error('Error:', error);
        alert('There was an error submitting your registration. Please try again.');
      })
      .finally(() => {
        // Reset button state
        button.disabled = false;
        button.textContent = originalText;
        button.style.backgroundColor = '';
      });
    });

    // Close popup function
    function closeProcessingPopup() {
      document.getElementById('processingOverlay').style.display = 'none';
    }
  </script>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .main-container {
      max-width: 700px;
      margin: 0 auto;
      background: white;
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.1);
      overflow: hidden;
    }

    .header {
      background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
      color: white;
      padding: 40px 30px;
      text-align: center;
    }

    .title {
      font-size: 2.5rem;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .sub-title {
      font-size: 1.2rem;
      opacity: 0.9;
      font-weight: 300;
    }

    .form-container {
      padding: 40px 30px;
    }

    .form-group {
      margin-bottom: 25px;
    }

    .form-label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #333;
      font-size: 0.95rem;
    }

    .form-input, textarea {
      width: 100%;
      padding: 15px;
      border: 2px solid #e1e5e9;
      border-radius: 10px;
      font-size: 1rem;
      transition: all 0.3s ease;
      background: #f8f9fa;
      font-family: inherit;
    }

    .form-input:focus, textarea:focus {
      outline: none;
      border-color: #4CAF50;
      background: white;
      box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.1);
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
    }

    .form-button {
      width: 100%;
      padding: 18px;
      background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
      color: white;
      border: none;
      border-radius: 10px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-top: 20px;
    }

    .form-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(76, 175, 80, 0.3);
    }

    .form-button:disabled {
      background: #666;
      cursor: not-allowed;
      transform: none;
    }

    .popup-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    #processingPopup {
      background: white;
      padding: 40px;
      border-radius: 20px;
      text-align: center;
      max-width: 400px;
      width: 90%;
    }

    .success-message h3 {
      color: #4CAF50;
      margin-bottom: 10px;
    }

    .rotating-bubble {
      width: 50px;
      height: 50px;
      border: 4px solid #f3f3f3;
      border-top: 4px solid #4CAF50;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 20px auto;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    @media (max-width: 768px) {
      .form-row {
        grid-template-columns: 1fr;
      }
      
      .main-container {
        margin: 10px;
      }
      
      .form-container {
        padding: 30px 20px;
      }
    }
  </style>
</body>
