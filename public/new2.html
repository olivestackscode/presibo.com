<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Presibo Smart Search</title>
  <style>
    :root{
      --bg:#ffffff;
      --accent:#6b21a8; /* presibo purple */
      --accent-2:#ffd400; /* yellow */
      --muted:#64748b;
      --input-bg:#f7f7fb;
    }
    html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial;}
    .wrap{
      min-height:100%;display:flex;align-items:center;justify-content:center;padding:24px;background:linear-gradient(180deg, #fffbe6 0%, #fff 100%);
    }
    .card{
      width:100%;max-width:760px;background:var(--bg);border-radius:12px;padding:22px 22px;box-shadow:0 6px 24px rgba(99,102,241,0.06);border:1px solid rgba(107,33,168,0.06);
    }
    .title{font-size:20px;color:var(--accent);margin:0 0 12px 0;font-weight:600;}
    .subtitle{margin:0 0 18px 0;color:var(--muted);}
    .row{display:flex;gap:12px;align-items:center;}
    .inputWrap{flex:1;display:flex;align-items:center;background:var(--input-bg);padding:10px;border-radius:10px;border:1px solid rgba(0,0,0,0.04);}
    input[type="text"]{
      flex:1;border:0;background:transparent;outline:none;font-size:16px;padding:6px;color:#0f172a;
    }
    .icon{
      width:36px;height:36px;flex:0 0 36px;border-radius:8px;background:linear-gradient(135deg,var(--accent),#7c3aed);display:flex;align-items:center;justify-content:center;color:white;margin-right:10px;font-weight:700;
    }
    button.cta{
      background:var(--accent);color:white;border:0;padding:11px 16px;border-radius:10px;font-weight:600;cursor:pointer;font-size:15px;
    }
    button.cta.secondary{
      background:transparent;border:2px dashed rgba(107,33,168,0.12);color:var(--accent);padding:9px 14px;
    }
    .hint{margin-top:12px;color:var(--muted);font-size:13px}
    /* fade animation */
    .fade {
      transition: opacity 250ms ease, transform 250ms ease;
      opacity:1; transform: translateY(0);
    }
    .fade.out {
      opacity:0; transform: translateY(-6px);
    }
    @media (max-width:520px){
      .card{padding:16px}
      .title{font-size:18px}
      button.cta{padding:10px 12px}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" role="region" aria-label="Presibo smart quick actions">
      <h1 class="title">Presibo smart actions</h1>
      <p class="subtitle">Type or pick a suggestion to start. The suggestion will change every 2 seconds. Focus the box to pause rotation.</p>

      <div class="row" style="align-items:flex-start">
        <div class="inputWrap" aria-hidden="false">
          <div class="icon" aria-hidden="true">P</div>
          <div style="flex:1">
            <label for="smartInput" class="visually-hidden" hidden>Search or ask Presibo</label>
            <input id="smartInput" type="text" autocomplete="off" aria-label="Ask Presibo" placeholder="I need a doctor" />
          </div>
        </div>

        <button id="actionBtn" class="cta" aria-label="Take action">Find</button>
      </div>

      <div class="hint">Suggestions rotate automatically. Click the button to search Presibo for the current suggestion.</div>
    </div>
  </div>

  <script>
    // list of prompts linked to Presibo product actions
    const PROMPTS = [
      { placeholder: "I need a doctor", label: "Find", query: "doctor" },
      { placeholder: "Is my food healthy", label: "Check", query: "food-analysis" },
      { placeholder: "What can I eat for breakfast", label: "Ask", query: "nutrition" },
      { placeholder: "Check my symptoms", label: "Analyze", query: "symptom-checker" },
      { placeholder: "Book a lab test", label: "Book", query: "lab-booking" },
      { placeholder: "Order my prescription", label: "Order", query: "prescriptions" },
      { placeholder: "Apply for meds credit", label: "Apply", query: "bnpl" },
      { placeholder: "Track blood pressure", label: "Track", query: "bp-tracking" },
      { placeholder: "Monitor my diabetes", label: "Monitor", query: "diabetes-tracking" },
      { placeholder: "Connect with a fitness coach", label: "Connect", query: "fitness-trainer" },
      { placeholder: "Show Presibo Pulse reels", label: "Watch", query: "presibo-pulse" },
      { placeholder: "Elder care check for my parent", label: "Check", query: "elder-care" },
      { placeholder: "Access my medical records", label: "Open", query: "emr" },
      { placeholder: "Take health risk assessment", label: "Start", query: "risk-assessment" }
    ];

    const input = document.getElementById("smartInput");
    const btn = document.getElementById("actionBtn");

    let idx = 0;
    let rotating = true;
    let interval = null;

    // helper to set placeholder and button label with fade
    function setPrompt(i){
      const p = PROMPTS[i];
      // fade out then in
      input.classList.add("fade","out");
      btn.classList.add("fade","out");
      window.setTimeout(() => {
        input.placeholder = p.placeholder;
        btn.textContent = p.label;
        // also set accessible attributes
        input.setAttribute("aria-placeholder", p.placeholder);
        btn.setAttribute("data-query", p.query);
        input.classList.remove("out");
        btn.classList.remove("out");
      }, 260);
    }

    function startRotation(){
      if(interval) return;
      interval = setInterval(()=>{
        idx = (idx + 1) % PROMPTS.length;
        setPrompt(idx);
      }, 2000);
      rotating = true;
    }

    function stopRotation(){
      if(interval){
        clearInterval(interval);
        interval = null;
      }
      rotating = false;
    }

    // pause rotation while user focuses input
    input.addEventListener("focus", () => stopRotation());
    input.addEventListener("blur", () => startRotation());

    // initial set
    setPrompt(0);
    startRotation();

    // click action: open presibo.com search or deep link
    btn.addEventListener("click", () => {
      const currentQuery = btn.getAttribute("data-query") || PROMPTS[idx].query;
      // if user typed something, prefer user's text
      const userText = input.value.trim();
      const q = encodeURIComponent(userText || currentQuery);
      // open a simple search path on presibo, change to your actual search or route
      const url = `https://presibo.com/search?q=${q}`;
      window.open(url, "_blank");
    });

    // keyboard: Enter triggers button
    input.addEventListener("keydown", (e) => {
      if(e.key === "Enter"){
        e.preventDefault();
        btn.click();
      }
      // pause on typing
      if(e.key.length === 1) stopRotation();
    });

    // when user clears input and blurs, resume rotation
    input.addEventListener("input", () => {
      if(!input.value.trim() && !document.activeElement.isSameNode(input)){
        startRotation();
      }
    });

    // accessibility: make sure initial data-query set
    btn.setAttribute("data-query", PROMPTS[0].query);
  </script>
</body>
</html>
